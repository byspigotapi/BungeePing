package com.nettyexception.bungeeping.commands;import net.md_5.bungee.api.ChatColor;import net.md_5.bungee.api.CommandSender;import net.md_5.bungee.api.ProxyServer;import net.md_5.bungee.api.chat.ComponentBuilder;import net.md_5.bungee.api.connection.ProxiedPlayer;import net.md_5.bungee.api.plugin.Command;/** * Created by Sören Simons on 26.10.2018. * » All rights reserved! * » Code with JetbrainsIDE. * » Java Runtime Environment */public class PingCommand extends Command {    ComponentBuilder componentBuilder = new ComponentBuilder("[").color(ChatColor.DARK_GRAY).append("!").color(ChatColor.RED).append("]").color(ChatColor.DARK_GRAY).append(" ");    private ComponentBuilder pingPrefix = componentBuilder;    public PingCommand() {        super("ping", null, "pong");    }    @Override    public void execute(CommandSender commandSender, String[] args) {        if (commandSender instanceof ProxiedPlayer) {            ProxiedPlayer proxiedPlayer = (ProxiedPlayer)commandSender;            if (args.length < 1) {                ComponentBuilder componentTextBuilder = (new ComponentBuilder(this.pingPrefix).append("Your Ping is").color(ChatColor.GRAY).append(": ").color(ChatColor.DARK_GRAY).append(proxiedPlayer.getPing() + "ms"));                if (proxiedPlayer.getPing() < 50) {                    componentTextBuilder.color(ChatColor.GREEN);                } else if (proxiedPlayer.getPing() > 50 && proxiedPlayer.getPing() < 100) {                    componentTextBuilder.color(ChatColor.YELLOW);                } else {                    componentTextBuilder.color(ChatColor.RED);                }                proxiedPlayer.sendMessage(componentTextBuilder.create());            } else {                if (!proxiedPlayer.hasPermission("ping.another")) {                    ComponentBuilder componentTextBuilder = (new ComponentBuilder(this.pingPrefix).append("You do not have permission to execute this command!").color(ChatColor.RED));                    proxiedPlayer.sendMessage(componentTextBuilder.create());                    return;                }                ProxiedPlayer targetProxiedPlayer = ProxyServer.getInstance().getPlayer(args[0]);                if (targetProxiedPlayer == null) {                    ComponentBuilder componentTextBuilder = (new ComponentBuilder(this.pingPrefix)).append("This player is not on the server!").color(ChatColor.RED);                    proxiedPlayer.sendMessage(componentTextBuilder.create());                    return;                }                ComponentBuilder componentTextBuilder = (new ComponentBuilder(this.pingPrefix)).append("The ping of").color(ChatColor.GRAY).append(": ").color(ChatColor.DARK_GRAY).append(targetProxiedPlayer.getName()).color(ChatColor.YELLOW).append(" is ").color(ChatColor.GRAY).append(targetProxiedPlayer.getPing() + "ms");                if (proxiedPlayer.getPing() < 50) {                    componentTextBuilder.color(ChatColor.GREEN);                } else if (proxiedPlayer.getPing() > 50 && proxiedPlayer.getPing() < 100) {                    componentTextBuilder.color(ChatColor.YELLOW);                } else {                    componentTextBuilder.color(ChatColor.RED);                }                proxiedPlayer.sendMessage(componentTextBuilder.create());            }        }    }}